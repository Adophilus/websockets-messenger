asyncapi: '2.6.0'
info:
  title: Websocket-Messenger Websocket API
  version: '1.0.0'
  contact:
    name: Adophilus
    url: https://github.com/Adophilus
servers:
  public:
    url: wss://websocket-messenger.onrender.com/ws
    protocol: wss

channels:
  chat:
    subscribe:
      message:
        oneOf:
          - $ref: '#/components/messages/fetch-messages'

components:
  messages:
    fetch-messages:
      summary: list of `TMessage` sent from the server
      payload:
        type: array
        items:
          $ref: '#/components/schemas/TMessage'
  schemas:
    TMessage:
      type: object
      properties:
        sender:
          type: string
        recepient:
          type: string
